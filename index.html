<!DOCTYPE html>
<html>
<head>
<link href="favicon.png" rel="icon" type="image/png" >
<meta charset=”utf-8”>
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Book Collection</title>

<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" media="screen">
<link href="css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" media="all">
<link href="css/styles.css" rel="stylesheet" type="text/css" media="all">
</head>

<body>
<div class="container">
<h1>Book Collection</h1>

<table id="books" border="1" class="table table-striped table-hover ">
</table>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js" type="text/javascript"></script>
<script src="js/jquery.dataTables.min.js" type="text/javascript" language="javascript"></script>
<script src="js/books.js" type="text/javascript"></script>

<script type="text/javascript">
function write_head(data){
	var th = $('<thead/>')
	var tr = $('<tr/>');
	jQuery.each(data, function(index, value) {
		tr.append('<th>'+this+'</th>');
	});
	$(th).append(tr);
    $('#books').append(th);
};

function write_body(data){
    var tr = $('<tbody/>');
    
    for (var i = 0; i < data.length; i++) {
    	tr = $('<tr/>');
    	console.log(data[i][columns[0]]
    		+ "," + data[i][columns[1]] 
    		+ "," + data[i][columns[2]]);
        
        tr.append("<td>" + data[i][columns[1]] + "</td>");
        tr.append("<td>" + data[i][columns[0]] + "</td>");
        tr.append("<td>" + data[i][columns[2]] + "</td>");
        $('#books').append(tr);
        
    }
};

function docready() {
	console.log(columns);
	console.log(columns[0]+','+columns[1]+','+columns[2]);
	
	write_head(columns);
    write_body(books);
    $('#books').dataTable({
        "aaSorting": [[ 2, "desc" ]]
        ,"iDisplayLength": 10
    });
};

$(document).ready(function() {
	docready();
});
</script>

</body>
</html>